function Worker(a){var b=this;this.process=ps.fork(a),this.process.on("message",function(a){b.onmessage&&b.onmessage({data:JSON.parse(a)})}),this.process.on("error",function(a){b.onerror&&b.onerror(a)})}var ps=require("child_process");Worker.prototype.onmessage=null,Worker.prototype.onerror=null,Worker.prototype.postMessage=function(a){this.process.send(JSON.stringify({data:a}))},Worker.prototype.terminate=function(){this.process.kill()},module.exports=Worker;